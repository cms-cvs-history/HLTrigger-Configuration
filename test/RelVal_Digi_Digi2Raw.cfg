process Raw = {

  untracked PSet maxEvents = {untracked int32 input = 100}

  untracked PSet configurationMetadata = {
    untracked string version = "$Revision: 1.43 $"
    untracked string name = "$Source: /cvs_server/repositories/CMSSW/CMSSW/HLTrigger/Configuration/test/RelVal_Digi_Digi2Raw.cfg,v $"
    untracked string annotation = "Standard CFG to digitize and run digi2raw (also L1)"
  }

  source = PoolSource {
    untracked vstring fileNames = {
      // GEN-SIM input:
      //"/store/RelVal/2007/7/10/RelVal-RelVal152TTbar-1184059625/0000/08BD2009-042F-DC11-A1CE-001617C3B6F0.root"
      "file:/scratch/cms/TTbarGenSim210.root"
    }
  }

  # need the Random Generator service for digitizaion
  include "Configuration/StandardSequences/data/Services.cff"
  include "Configuration/StandardSequences/data/Geometry.cff"
  include "Configuration/StandardSequences/data/MagneticField.cff"

  include "Configuration/StandardSequences/data/Simulation.cff"
  include "Configuration/StandardSequences/data/MixingNoPileUp.cff" 
  # add vertex smearing which is NOT needed - but creates problems with python
  include "Configuration/StandardSequences/data/VtxSmearedGauss.cff"

  // Conditions data
  // include "Configuration/StandardSequences/data/FakeConditions.cff"
  include "Configuration/StandardSequences/data/FrontierConditions_GlobalTag.cff"
  // https://twiki.cern.ch/twiki/bin/view/CMS/SWGuideFrontierConditions
  replace GlobalTag.globaltag = "STARTUP::All"

  // Packing digi to raw
  include "Configuration/StandardSequences/data/DigiToRaw.cff"

  // L1 Emulator configuration
  include "Configuration/StandardSequences/data/L1Emulator.cff"
  # Choose a menu/prescale/mask from one of the .cffs
  # in L1TriggerConfig/L1GtConfigProducers/data/Luminosity
  include "L1TriggerConfig/L1GtConfigProducers/data/Luminosity/lumi1030/L1Menu2008_2E30_Unprescaled.cff"


  path doDigiL1Raw = { pdigi & L1Emulator & DigiToRaw }

  untracked PSet options = { untracked bool wantSummary = true }

  include "Configuration/EventContent/data/EventContent.cff"
  module FEVT = PoolOutputModule {
    using FEVTSIMDIGIEventContent	
    untracked string fileName='file:RelVal_Digi_Raw.root'
    untracked int32 basketSize = 4096
      untracked PSet dataset ={      
        untracked string dataTier = "RAW"
      }
  }

  module REVT = PoolOutputModule {
    untracked vstring outputCommands = {
      "drop *" ,
      "keep FEDRawDataCollection_rawDataCollector_*_Raw"
    }
    untracked string fileName='file:RelVal_Pure_Raw.root'
    untracked int32 basketSize = 4096
      untracked PSet dataset ={      
        untracked string dataTier = "RAW"
      }
  }

  endpath e1 = { FEVT } 
  endpath e2 = { REVT } 

}
