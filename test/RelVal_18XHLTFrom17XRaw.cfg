process HLT = {

      untracked PSet configurationMetadata = {
      untracked string version = "$Revision: 1.20 $"
      untracked string name = "$Source: /cvs_server/repositories/CMSSW/CMSSW/HLTrigger/Configuration/test/RelVal_HLTFromRaw.cfg,v $"
      untracked string annotation = "Standard CFG to do raw2digi + HLT."
    }

// Message Logger
include "FWCore/MessageLogger/data/MessageLogger.cfi"

// Source of events
untracked PSet maxEvents = {untracked int32 input = 100}

source = PoolSource {
	untracked vstring fileNames = {
// See http://cmsdbs.cern.ch/DBS2_discovery/ for available Raw event files.
// if copied to your local cms scratch disk: rfcp /castor/cern.ch/cms/store/...
      "file:RelVal_Pure_Raw.root"
  }
}

// Conditions data
// Digi to raw: Conditions should be included through StandardSequences
//              Some changes are needed to run off of 17X RAW files
/*
include "Configuration/StandardSequences/data/FakeConditions.cff"
replace es_ascii.input = {
           {string object = "Pedestals"
             FileInPath file = "CondFormats/HcalObjects/data/hcal_pedestals_fC_v1.txt"
            }
            ,{string object = "PedestalWidths"
             FileInPath file = "CondFormats/HcalObjects/data/hcal_widths_fC_v1.txt"
            }
            ,{string object = "Gains"
             FileInPath file = "CondFormats/HcalObjects/data/hcal_gains_v1.txt"
            }
            ,{string object = "QIEData"
             FileInPath file = "CondFormats/HcalObjects/data/qie_normalmode_v3.txt"
            }
            ,{string object = "GainWidths"
             FileInPath file = "CondFormats/HcalObjects/data/hcal_gains_widths_v1.txt"
            }
            ,{string object = "ElectronicsMap"
             FileInPath file = "CondFormats/HcalObjects/data/official_emap_16x_v1.txt"
            }
           ,{string object = "ChannelQuality"
             FileInPath file = "CondFormats/HcalObjects/data/hcal_quality_v1.txt"
            }
         }
*/

include "Configuration/StandardSequences/data/FrontierConditions.cff"
replace es_pool.toGet = {
                    {string record = "HcalPedestalsRcd"
                     string tag    = "hcal_pedestals_fC_v1"
                    },
                    {string record = "HcalGainsRcd"
                     string tag =    "hcal_gains_v1"
                    },
                    {string record = "HcalQIEDataRcd"
                     string tag =    "qie_normalmode_v3"
                    },
                    {string record = "HcalElectronicsMapRcd"
                     string tag =    "official_emap_16x_v1"
                    },
                    {string record = "HcalPedestalWidthsRcd"
                     string tag =    "hcal_widths_fC_v1"
                    }
                  }

// HLT table to run (set of [HLT] paths)
include "HLTrigger/Configuration/data/main/HLTtable.cff"
include "L1TriggerConfig/L1GtConfigProducers/data/L1GtFactorsUnprescale.cff"
include "HLTrigger/Configuration/data/common/HLTPrescaleReset.cff"

include "Configuration/EventContent/data/EventContent.cff"
module hltPoolOutput = PoolOutputModule {
	using FEVTSIMDIGIEventContent
	untracked string fileName = "file:HLTFrom17XRaw.root"
	untracked int32 basketSize = 4096
	untracked PSet dataset ={
            untracked string dataTier = "RAW"
        }
}
endpath HLTPoolOutput = {hltPoolOutput}

}
