process Raw2 = {

      untracked PSet configurationMetadata = {
      untracked string version = "$Revision: 1.5 $"
      untracked string name = "$Source: /cvs_server/repositories/CMSSW/CMSSW/HLTrigger/Configuration/test/RelVal_GT_DigiToRawFrom17XRaw.cfg,v $"
      untracked string annotation = "Standard CFG to do (re-do) L1+ digi2raw"
 }

// Message Logger
  include "FWCore/MessageLogger/data/MessageLogger.cfi"

// Source of events
  untracked PSet maxEvents = {untracked int32 input = 10}

  source = PoolSource {
	untracked vstring fileNames = {
#	 '/store/relval/2008/1/31/RelVal-RelValQCD_Pt_120_170-1196786595-HLT/0001/00450F49-22D0-DC11-8317-001617E30F56.root'
	'/store/CSA07/2007/12/15/L1Trig-MinBias-A4/0002/00026980-3FAB-DC11-A34C-000423D944A4.root'
  }
}

  // Conditions data
  // include "Configuration/StandardSequences/data/FakeConditions.cff"
  include "Configuration/StandardSequences/data/FrontierConditions_GlobalTag.cff"
  replace GlobalTag.globaltag = "STARTUP_V1::All"
  // Currently available TAGNAMEs are: STARTUP, 1PB, 10PB, IDEAL

  // work-around needed - otherwise complaints about  CSCGeometryESModule...
  include "Configuration/StandardSequences/data/Reconstruction.cff"

  //unpack GCT and GMT and re-run GT
  include "L1TriggerConfig/L1ScalesProducers/data/L1MuTriggerScalesConfig.cff"
  include "L1TriggerConfig/L1ScalesProducers/data/L1MuGMTScalesConfig.cff"
  include "L1TriggerConfig/L1GtConfigProducers/data/L1GtConfig.cff"
  include "L1TriggerConfig/GMTConfigProducers/data/L1MuGMTParametersConfig.cff"

 module l1GctEmulDigis = l1GctHwDigis from "EventFilter/GctRawToDigi/data/l1GctHwDigis.cfi"
 replace l1GctEmulDigis.inputLabel = rawDataCollector

 module l1GmtEmulDigis = l1GtUnpack from "EventFilter/L1GlobalTriggerRawToDigi/data/l1GtUnpack.cfi"
 replace l1GmtEmulDigis.DaqGtInputTag = rawDataCollector

 include "L1Trigger/GlobalTrigger/data/l1GtEmulDigis.cfi"

 // Re-make RAW
 include "Configuration/StandardSequences/data/DigiToRaw.cff"
 replace rawDataCollector.currentProcessOnly = true

 replace SiStripDigiToRaw.InputDigiLabel = ""

 replace l1GtPrescaleFactorsAlgoTrig.PrescaleFactors = {
          1,       1,       1,       1,       1,       1,       1,       1,       1,       1,
          1,       1,       1,       1,       1,       1,       1,       1,       1,       1,
          1,       1,       1,       1,       1,       1,       1,       1,       1,       1,
          1,       1,       1,       1,       1,       1,       1,       1,       1,       1,
          1,       1,       1,       1,       1,       1,       1,       1,       1,       1,
          1,       1,       1,       1,       1,       1,       1,       1,       1,       1,
          1,       1,       1,       1,       1,       1,       1,       1,       1,       1,
          1,       1,       1,       1,       1,       1,       1,       1,       1,       1,
          1,       1,       1,       1,       1,       1,       1,       1,       1,       1,
          1,       1,       1,       1,       1,       1,       1,       1,       1,       1,
          1,       1,       1,       1,       1,       1,       1,       1,       1,       1,
          1,       1,       1,       1,       1,       1,       1,       1,       1,       1,
          1,       1,       1,       1,       1,       1,       1,       1
}

 path p = { l1GmtEmulDigis, l1GctEmulDigis, l1GtEmulDigis,  DigiToRaw } 

  include "Configuration/EventContent/data/EventContent.cff"

  module FEVT = PoolOutputModule {
    using FEVTSIMEventContent	
    untracked string fileName='file:RelVal_Raw.root'
    untracked int32 basketSize = 4096
      untracked PSet dataset ={      
        untracked string dataTier = "RAW"
      }
}

//drop 1_7_X old RAW and other products
  replace FEVT.outputCommands += "drop *_*_*_*"
  replace FEVT.outputCommands += "keep FEDRawDataCollection_rawDataCollector_*_Raw2"

  endpath e = {FEVT}

}
