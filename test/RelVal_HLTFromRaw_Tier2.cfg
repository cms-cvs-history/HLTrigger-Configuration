process HLT = {

      untracked PSet configurationMetadata = {
      untracked string version = "$Revision: 1.9 $"
      untracked string name = "$Source: /cvs_server/repositories/CMSSW/CMSSW/HLTrigger/Configuration/test/RelVal_HLTFromRaw_Tier2.cfg,v $"
      untracked string annotation = "Standard CFG to do raw2digi + HLT."
    }

// Message Logger
include "FWCore/MessageLogger/data/MessageLogger.cfi"

// Source of events
untracked PSet maxEvents = {untracked int32 input = 100}

source = PoolSource {
	untracked vstring fileNames = {
// See http://cmsdbs.cern.ch/DBS2_discovery/ for available Raw event files.
// if copied to your local cms scratch disk: rfcp /castor/cern.ch/cms/store/...
	"file:RelVal_Pure_Raw.root"
  }
}

// Conditions data
// Digi to raw: Conditions should be included through StandardSequences
// include "Configuration/StandardSequences/data/FakeConditions.cff"
include "Configuration/StandardSequences/data/FrontierConditions.cff"

// HLT table to run (set of [HLT] paths)
include "HLTrigger/Configuration/data/main/HLTtable.cff"
include "L1TriggerConfig/L1GtConfigProducers/data/L1GtFactorsUnprescale.cff"
include "HLTrigger/Configuration/data/common/HLTPrescaleReset.cff"

include "Configuration/EventContent/data/EventContent.cff"
module hltPoolOutput = PoolOutputModule {
	using FEVTSIMEventContent
	untracked string fileName = "file:HLTFromPureRaw.root"
	untracked int32 basketSize = 4096
	untracked PSet dataset ={
            untracked string dataTier = "RAW"
        }
}
//Keep  GEN-SIM, MC digis, L1, HLT, RAW
//Drop digis from raw2digi unpacking within HLT except L1
replace hltPoolOutput.outputCommands += "drop *_*Digis_*_HLT"
replace hltPoolOutput.outputCommands += "keep *_l1*Digis_*_HLT"

// Drop HLT filter objects and some debugging info 
replace hltPoolOutput.outputCommands += "drop recoHLTFilterObject*_*_*_*"
replace hltPoolOutput.outputCommands += "drop recoHLTPathObject_*_*_*"

// Keep only essential branches 
replace hltPoolOutput.outputCommands += "keep recoHLTFilterObject*_*L3*_*_*"
replace hltPoolOutput.outputCommands += "keep recoHLTFilterObject*_*_*L25*Tau*_*"
# for Egamma
replace hltPoolOutput.outputCommands += "keep recoHLTFilterObject*_hltL1IsoSingleElectronTrackIsolFilter_*_*"
replace hltPoolOutput.outputCommands += "keep recoHLTFilterObject*_hltL1NonIsoSingleElectronTrackIsolFilter_*_*"
replace hltPoolOutput.outputCommands += "keep recoHLTFilterObject*_hltL1IsoDoubleElectronTrackIsolFilter_*_*"
replace hltPoolOutput.outputCommands += "keep recoHLTFilterObject*_hltL1NonIsoDoubleElectronTrackIsolFilter_*_*"
replace hltPoolOutput.outputCommands += "keep recoHLTFilterObject*_hltL1IsoSinglePhotonTrackIsolFilter_*_*"
replace hltPoolOutput.outputCommands += "keep recoHLTFilterObject*_hltL1NonIsoSinglePhotonTrackIsolFilter_*_*"
replace hltPoolOutput.outputCommands += "keep recoHLTFilterObject*_hltL1IsoDoublePhotonDoubleEtFilter_*_*"
replace hltPoolOutput.outputCommands += "keep recoHLTFilterObject*_hltL1NonIsoDoublePhotonDoubleEtFilter_*_*"
replace hltPoolOutput.outputCommands += "keep recoHLTFilterObject*_hltL1NonIsoSingleEMHighEtTrackIsolFilter_*_*"
replace hltPoolOutput.outputCommands += "keep recoHLTFilterObject*_hltL1NonIsoSinglePhotonEMVeryHighEtEtFilter_*_*"
replace hltPoolOutput.outputCommands += "keep recoHLTFilterObject*_hltL1IsoDoubleExclElectronTrackIsolFilter_*_*"
replace hltPoolOutput.outputCommands += "keep recoHLTFilterObject*_hltL1IsoDoubleExclPhotonTrackIsolFilter_*_*"
replace hltPoolOutput.outputCommands += "keep recoHLTFilterObject*_hltL1IsoDoubleElectronZeePMMassFilter_*_*"
replace hltPoolOutput.outputCommands += "keep recoHLTFilterObject*_hltL1IsoSinglePhotonPrescaledTrackIsolFilter_*_*"	

endpath HLTPoolOutput = {hltPoolOutput}

}
