process L1HLT = {

      untracked PSet configurationMetadata = {
      untracked string version = "$Revision: 1.18 $"
      untracked string name = "$Source: /local/projects/CMSSW/rep/CMSSW/HLTrigger/Configuration/test/RelVal_176GTHLTFrom17XRaw.cfg,v $"
      untracked string annotation = "Standard CFG to do raw2digi +L1+ digi2raw+ raw2digi+ HLT."
 }

// Message Logger
include "FWCore/MessageLogger/data/MessageLogger.cfi"

// Source of events
untracked PSet maxEvents = {untracked int32 input = 100}

source = PoolSource {
	untracked vstring fileNames = {
	#'/store/relval/2008/1/31/RelVal-RelValQCD_Pt_120_170-1196786595-HLT/0001/00450F49-22D0-DC11-8317-001617E30F56.root'
	 '/store/relval/2008/1/31/RelVal-RelValQCD_Pt_30_50-1196608638-HLT/0001/00379A98-23D0-DC11-8F30-000423D9853C.root'
  }
}

// Conditions data
// Digi to raw: Conditions should be included through StandardSequences
// include "Configuration/StandardSequences/data/FakeConditions.cff"
include "Configuration/StandardSequences/data/FrontierConditions.cff"

//Unpack
include "HLTrigger/Configuration/data/rawToDigi/RawToDigi.cff"

//unpack GCT and GMT and re-run GT
include "L1Trigger/Configuration/data/L1HltSeed.cff"

// Re-make RAW
include "HLTrigger/Configuration/data/rawToDigi/DigiToRaw.cff"
replace rawDataCollector.currentProcessOnly = true

include "L1TriggerConfig/L1GtConfigProducers/data/L1GtFactorsUnprescale.cff"

path p = { RawToDigi & l1GmtEmulDigis & l1GctEmulDigis & l1GtEmulDigis & DigiToRaw }

// HLT table to run (set of [HLT] paths)
include "HLTrigger/Configuration/data/main/HLTtable.cff"

include "HLTrigger/Configuration/data/common/HLTPrescaleReset.cff"

//Change this to the process name being used in this cfg
replace hltTrigReport.HLTriggerResults = TriggerResults::L1HLT

include "Configuration/EventContent/data/EventContent.cff"
module hltPoolOutput = PoolOutputModule {
	using FEVTSIMEventContent
	untracked string fileName = "file:GTHLTFromRaw.root"
	untracked int32 basketSize = 4096
	untracked PSet dataset ={
            untracked string dataTier = "RECO"
        }
}
endpath HLTPoolOutput = {hltPoolOutput}
}
